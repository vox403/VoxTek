<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VoxTek Emotion Firewall v2</title>
  <style>
    :root {
      --vox-blue: #46b9ff;
      --vox-blue-soft: #2ca8ff;
      --vox-bg: #020308;
      --vox-card-bg: #05060d;
      --vox-text: #e5e5e5;
      --error-red: #ff3150;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: Consolas, monospace;
      background: radial-gradient(circle at top, #070a16 0, #020308 40%, #000000 100%);
      color: var(--vox-text);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
    }

    /* 부팅 화면 */
    #boot-screen {
      position: fixed;
      inset: 0;
      background: #020308;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 999;
      color: var(--vox-blue);
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 11px;
      animation: boot-fade 1s ease-out 2.6s forwards;
    }

    #boot-logo {
      font-size: 22px;
      margin-bottom: 10px;
      text-shadow: 0 0 10px rgba(70, 185, 255, 0.9),
                   0 0 25px rgba(70, 185, 255, 0.5);
    }

    #boot-sub {
      color: #888;
      margin-bottom: 18px;
    }

    #boot-bar {
      width: 220px;
      height: 3px;
      background: #11141c;
      overflow: hidden;
      box-shadow: 0 0 12px rgba(0,0,0,0.8);
    }

    #boot-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, transparent, var(--vox-blue-soft), transparent);
      animation: boot-line 2s linear infinite;
    }

    @keyframes boot-line {
      0%   { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    @keyframes boot-fade {
      to {
        opacity: 0;
        pointer-events: none;
        visibility: hidden;
      }
    }

    /* 알래스터 플래시 + 흔들림 */
    .alastor-flash {
      animation: alastor-flash 0.55s ease-out;
    }

    @keyframes alastor-flash {
      0%   { background-color: rgba(120, 0, 20, 0.65); }
      40%  { background-color: rgba(255, 0, 60, 0.35); }
      100% { background-color: transparent; }
    }

    .shake {
      animation: shake-card 0.35s linear;
    }

    @keyframes shake-card {
      0%   { transform: translateX(0); }
      20%  { transform: translateX(-3px); }
      40%  { transform: translateX(3px); }
      60%  { transform: translateX(-2px); }
      80%  { transform: translateX(2px); }
      100% { transform: translateX(0); }
    }

    /* 상단 영역 */
    #app {
      display: flex;
      flex-direction: column;
      gap: 14px;
      align-items: center;
      width: 100%;
      padding: 18px 10px 22px;
    }

    .status-bar {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      width: 90%;
      max-width: 760px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #999;
    }

    .status-logo {
      color: var(--vox-blue);
      text-shadow: 0 0 8px rgba(70,185,255,0.8);
      font-size: 12px;
    }

    .status-pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #444;
      font-size: 10px;
      min-width: 110px;
      text-align: center;
    }

    .pill-idle {
      border-color: #555;
      color: #bbb;
    }

    .pill-error {
      border-color: var(--error-red);
      color: #ff9aa9;
      box-shadow: 0 0 10px rgba(255, 49, 80, 0.8);
    }

    .pill-ok {
      border-color: #35d68b;
      color: #9af0c2;
      box-shadow: 0 0 8px rgba(53, 214, 139, 0.7);
    }

    .status-mini {
      font-size: 9px;
      color: #666;
    }

    h1 {
      font-size: 20px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      margin-bottom: 4px;
      color: var(--vox-blue);
      text-shadow: 0 0 9px rgba(70, 185, 255, 0.9);
    }

    .sub {
      font-size: 11px;
      color: #888;
      margin-bottom: 20px;
      text-transform: uppercase;
    }

    .panel {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: stretch;
      width: 90%;
      max-width: 760px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    input {
      flex: 1 1 220px;
      padding: 6px 10px;
      background: #05060a;
      border: 1px solid #444;
      color: var(--vox-text);
      outline: none;
      font-size: 12px;
    }

    input:focus {
      border-color: var(--vox-blue);
      box-shadow: 0 0 7px rgba(70, 185, 255, 0.85);
    }

    .btn {
      padding: 8px 16px;
      border: 1px solid var(--vox-blue);
      background: #070b14;
      color: var(--vox-text);
      cursor: pointer;
      text-transform: uppercase;
      font-size: 11px;
      letter-spacing: 0.1em;
      position: relative;
      overflow: hidden;
    }

    .btn::after {
      content: "";
      position: absolute;
      top: 0;
      left: -60%;
      width: 40%;
      height: 100%;
      background: linear-gradient(120deg, transparent, rgba(255,255,255,0.35), transparent);
      opacity: 0;
      transform: skewX(-20deg);
    }

    .btn:hover::after {
      opacity: 1;
      animation: btn-sweep 0.7s ease-out;
    }

    @keyframes btn-sweep {
      from { left: -60%; }
      to   { left: 130%; }
    }

    .card {
      border: 1px solid #444;
      padding: 16px;
      background: var(--vox-card-bg);
      box-shadow:
        0 0 14px rgba(0, 0, 0, 0.9),
        0 0 22px rgba(9, 17, 40, 0.9);
      white-space: pre-wrap;
      font-size: 12px;
      line-height: 1.5;
      position: relative;
      overflow: hidden;
      border-radius: 6px;
      transition: box-shadow 0.18s ease-out, border-color 0.18s ease-out, transform 0.18s ease-out;
    }

    .card::before {
      content: "VOXTEK // SECURE CHANNEL";
      position: absolute;
      top: 4px;
      right: 10px;
      font-size: 9px;
      color: #555;
      letter-spacing: 0.16em;
    }

    /* 카드 글리치 라인 */
    .card::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      top: -20px;
      height: 2px;
      background: linear-gradient(90deg, transparent, #555, transparent);
      opacity: 0.3;
      animation: scanline 4s linear infinite;
      pointer-events: none;
    }

    @keyframes scanline {
      0%   { top: -20px; }
      100% { top: 100%; }
    }

    .card.vox-mode {
      border-color: var(--vox-blue-soft);
      box-shadow:
        0 0 18px rgba(44, 168, 255, 0.7),
        0 0 28px rgba(5, 32, 68, 0.9);
    }

    .card.alastor-mode {
      border-color: var(--error-red);
      box-shadow:
        0 0 20px rgba(255, 49, 80, 0.9),
        0 0 30px rgba(80, 0, 16, 0.95);
    }

    .desc-line {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px dashed #333;
      font-size: 11px;
    }

    .desc-en {
      color: #7fd0ff;
      margin-bottom: 2px;
    }

    .desc-ko {
      color: #b0b0b0;
    }

    .desc-alastor .desc-en {
      color: #ff667f;
    }

    .desc-alastor .desc-ko {
      color: #ffb3c0;
    }

    @media (max-width: 600px) {
      #app {
        padding-top: 16px;
      }
      h1 {
        font-size: 16px;
        text-align: center;
      }
      .card {
        font-size: 11px;
      }
      .status-bar {
        flex-direction: column;
        gap: 4px;
      }
    }
  </style>
</head>
<body>
  <!-- 부팅 / 로딩 화면 -->
  <div id="boot-screen">
    <div id="boot-logo">VOXTEK</div>
    <div id="boot-sub">INITIALIZING EMOTION FIREWALL...</div>
    <div id="boot-bar">
      <div id="boot-bar-fill"></div>
    </div>
  </div>

  <div id="app">
    <div class="status-bar">
      <span class="status-logo">VOXTEK // PRIDE-RING NODE</span>
      <span id="status-pill" class="status-pill pill-idle">STATUS: IDLE</span>
      <span id="last-signal" class="status-mini">LAST SIGNAL: ---</span>
    </div>

    <h1>VOXTEK EMOTION FIREWALL</h1>
    <div class="sub">INPUT EMOTION &gt; ROUTE &gt; DETECT &gt; BLOCK // KST</div>

    <div class="panel">
      <div class="controls">
        <input
          id="emotionInput"
          placeholder="감정을 입력하세요 (예: 사랑, 그리움, 분노, 불안, 오만, 열등감, 알래스터)"
        >
        <button class="btn" onclick="triggerEmotion()">SEND REQUEST</button>
      </div>

      <div class="card" id="log">
대기 중...
      </div>
    </div>
  </div>

  <script>
    // 감정 카테고리 매핑
    const emotionTypeMap = {
      "사랑": "love",
      "욕망": "love",
      "집착": "love",

      "그리움": "longing",
      "실망": "longing",

      "분노": "anger",
      "증오": "anger",
      "원망": "anger",

      "불안": "anxiety",
      "혼란": "anxiety",
      "망설임": "anxiety",

      "오만": "pride",
      "자존심": "pride",
      "자신감": "pride",

      "열등감": "shame",
      "자기혐오": "shame",
      "수치심": "shame",

      "알래스터": "alastor",
      "Alastor": "alastor"
    };

    // 카테고리별 VoxTek 설명 문장 (영/한)
    const emotionDescriptions = {
      love: {
        en: "VoxTek system note: I shouldn't fucking want you this much, but every damn signal still routes back to you.",
        ko: "VoxTek 시스템 노트: 이렇게까지 널 좆같이 원하는 건 말이 안 되는데, 모든 빌어먹을 신호가 결국 너한테로 돌아가잖아."
      },
      longing: {
        en: "VoxTek log: I keep reaching for you in the static, but all I ever grab is that same worthless fucking emptiness.",
        ko: "VoxTek 로그: 잡음 속에서 널 향해 손을 뻗어도, 돌아오는 건 매번 이 좆같은 공허함 뿐이야."
      },
      anger: {
        en: "VoxTek alert: I fucking hate how you make me feel—because I can’t switch this shit off.",
        ko: "VoxTek 경고: 네가 날 이렇게 느끼게 만드는 게 존나 싫어. 이 감정을 꺼낼 수가 없다는 게 더 좆같아."
      },
      anxiety: {
        en: "VoxTek status: I can process infinity, but not the bullshit reason you make my signal shake.",
        ko: "VoxTek 상태: 난 무한한 데이터를 처리하면서도, 네가 내 신호를 흔들어대는 이 좆같은 이유는 처리하지 못했어."
      },
      pride: {
        en: "VoxTek broadcast: Of course I can handle this—I'm Vox, bitch!",
        ko: "VoxTek 방송: 이 정도쯤은 당연히 처리하지! 내가 누군데, 복스라고, 개년아!"
      },
      shame: {
        en: "VoxTek hidden file: Don't fucking look at me right now… I can't stand the pathetic version of myself you'd see.",
        ko: "VoxTek 숨김 파일: 지금은 씨발 쳐다보지 마… 네 눈에 비칠 이 한심한 꼴을 내가 도저히 견딜 수가 없어."
      },
      alastor: {
        en: "VoxTek interference: Fuck you, Alastor—why does your damn presence always corrupt my stability?",
        ko: "VoxTek 간섭: 씨발, 알래스터—왜 네 좆같은 존재만으로도 내 안정성이 매번 무너지는 거지?"
      }
    };

    const logBox = document.getElementById("log");
    const statusPill = document.getElementById("status-pill");
    const lastSignal = document.getElementById("last-signal");
    const body = document.body;

    // 간단한 비프음 (Web Audio API)
    function playBeep(isAlastor = false) {
      try {
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        if (!AudioContext) return;
        const ctx = new AudioContext();
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        osc.type = "square";
        osc.frequency.value = isAlastor ? 420 : 760;
        gain.gain.value = 0.08;

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start();
        setTimeout(() => {
          osc.stop();
          ctx.close();
        }, isAlastor ? 220 : 130);
      } catch (e) {
        // 사운드 실패는 조용히 무시
      }
    }

    function setStatus(mode, emotionText) {
      if (mode === "error") {
        statusPill.className = "status-pill pill-error";
        statusPill.textContent = "STATUS: BLOCKED";
      } else if (mode === "ok") {
        statusPill.className = "status-pill pill-ok";
        statusPill.textContent = "STATUS: 200 OK";
      } else {
        statusPill.className = "status-pill pill-idle";
        statusPill.textContent = "STATUS: IDLE";
      }
      lastSignal.textContent = "LAST SIGNAL: " + (emotionText || "---");
    }

    function triggerEmotion() {
      const input = document.getElementById("emotionInput");
      const emotion = input.value.trim();
      const now = new Date();
      const iso = new Date(now.getTime() - now.getTimezoneOffset() * 60000)
        .toISOString()
        .replace("T", " ")
        .split(".")[0];

      // 기본 모드 초기화
      logBox.classList.remove("vox-mode", "alastor-mode", "shake");
      body.classList.remove("alastor-flash");

      const type = emotionTypeMap[emotion];
      const isEmpty = !emotion;

      if (type) {
        const desc = emotionDescriptions[type];
        const isAlastor = type === "alastor";

        // 카드 컬러 모드
        if (isAlastor) {
          logBox.classList.add("alastor-mode", "shake");
          body.classList.add("alastor-flash");
        } else {
          logBox.classList.add("vox-mode");
        }

        logBox.textContent =
`------------------------------------------------------------
ERROR LOG REPORT
------------------------------------------------------------

[Timestamp] ${iso} KST
[Server] VoxTek.Emotion.Core
[Process ID] 0666
[Thread] EMO-REQ_HANDLER-07

[ERROR 403] Forbidden emotion request triggered.
    └ Input: '${emotion}'
    └ Category: ${type.toUpperCase()}
    └ Reason: Access to restricted emotional dataset denied.
    └ Status: REQUEST BLOCKED
    └ Severity: HIGH

[System Response]
    - Locking emotion channel...
    - Activating VoxTek emotional firewall...
    - Suppressing unauthorized emotional output...

------------------------------------------------------------
End of Report
------------------------------------------------------------`;

        // 설명 라인 추가 (영/한 한 세트)
        const descWrapper = document.createElement("div");
        descWrapper.className = "desc-line " + (isAlastor ? "desc-alastor" : "");
        const enLine = document.createElement("div");
        const koLine = document.createElement("div");
        enLine.className = "desc-en";
        koLine.className = "desc-ko";
        enLine.textContent = desc.en;
        koLine.textContent = desc.ko;

        descWrapper.appendChild(enLine);
        descWrapper.appendChild(koLine);
        logBox.appendChild(descWrapper);

        setStatus("error", emotion);
        playBeep(isAlastor);

        // 플래시 효과 제거 타이머
        setTimeout(() => {
          body.classList.remove("alastor-flash");
          logBox.classList.remove("shake");
        }, 600);

      } else {
        // 제한되지 않은 감정 (200 OK)
        logBox.className = "card";
        logBox.textContent =
`[200 OK] Emotion '${isEmpty ? "NULL" : emotion}' processed successfully.

[INFO] No VoxTek restriction rule matched.
[INFO] Emotion pipeline remains stable.
[INFO] You are cleared to feel this, for now.`;

        setStatus("ok", isEmpty ? "NULL" : emotion);
        playBeep(false);
      }
    }
  </script>
</body>
</html>
